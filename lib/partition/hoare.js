"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.hoare = hoare;

/**
 * HYP : i < j
 */

function hoare(compare, a, i, j) {

	var o = i;
	var x = a[o];

	while (true) {

		while (true) {

			--j;

			if (i >= j) {
				a[o] = a[j];
				a[j] = x;
				return j;
			} else if (compare(x, a[j]) > 0) {
				break;
			}
		}

		while (true) {

			++i;

			if (i >= j) {
				a[o] = a[j];
				a[j] = x;
				return j;
			} else if (compare(x, a[i]) < 0) {
				break;
			}
		}

		// invariant i < j

		var t = a[i];
		a[i] = a[j];
		a[j] = t;
	}
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9wYXJ0aXRpb24vaG9hcmUuanMiXSwibmFtZXMiOlsiaG9hcmUiLCJjb21wYXJlIiwiYSIsImkiLCJqIiwibyIsIngiLCJ0Il0sIm1hcHBpbmdzIjoiOzs7OztRQUtnQkEsSyxHQUFBQSxLOztBQUpoQjs7OztBQUlPLFNBQVNBLEtBQVQsQ0FBaUJDLE9BQWpCLEVBQTJCQyxDQUEzQixFQUErQkMsQ0FBL0IsRUFBbUNDLENBQW5DLEVBQXVDOztBQUU3QyxLQUFNQyxJQUFJRixDQUFWO0FBQ0EsS0FBTUcsSUFBSUosRUFBRUcsQ0FBRixDQUFWOztBQUVBLFFBQVEsSUFBUixFQUFlOztBQUVkLFNBQVEsSUFBUixFQUFlOztBQUVkLEtBQUVELENBQUY7O0FBRUEsT0FBS0QsS0FBS0MsQ0FBVixFQUFjO0FBQ2JGLE1BQUVHLENBQUYsSUFBT0gsRUFBRUUsQ0FBRixDQUFQO0FBQ0FGLE1BQUVFLENBQUYsSUFBT0UsQ0FBUDtBQUNBLFdBQU9GLENBQVA7QUFDQSxJQUpELE1BTUssSUFBS0gsUUFBU0ssQ0FBVCxFQUFhSixFQUFFRSxDQUFGLENBQWIsSUFBc0IsQ0FBM0IsRUFBK0I7QUFDbkM7QUFDQTtBQUNEOztBQUVELFNBQVEsSUFBUixFQUFlOztBQUVkLEtBQUVELENBQUY7O0FBRUEsT0FBS0EsS0FBS0MsQ0FBVixFQUFjO0FBQ2JGLE1BQUVHLENBQUYsSUFBT0gsRUFBRUUsQ0FBRixDQUFQO0FBQ0FGLE1BQUVFLENBQUYsSUFBT0UsQ0FBUDtBQUNBLFdBQU9GLENBQVA7QUFDQSxJQUpELE1BTUssSUFBS0gsUUFBU0ssQ0FBVCxFQUFhSixFQUFFQyxDQUFGLENBQWIsSUFBc0IsQ0FBM0IsRUFBK0I7QUFDbkM7QUFDQTtBQUNEOztBQUdEOztBQUVBLE1BQU1JLElBQU9MLEVBQUVDLENBQUYsQ0FBYjtBQUNBRCxJQUFFQyxDQUFGLElBQU9ELEVBQUVFLENBQUYsQ0FBUDtBQUNBRixJQUFFRSxDQUFGLElBQVVHLENBQVY7QUFFQTtBQUVEIiwiZmlsZSI6ImhvYXJlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG4vKipcbiAqIEhZUCA6IGkgPCBqXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGhvYXJlICggY29tcGFyZSAsIGEgLCBpICwgaiApIHtcblxuXHRjb25zdCBvID0gaSA7XG5cdGNvbnN0IHggPSBhW29dIDtcblxuXHR3aGlsZSAoIHRydWUgKSB7XG5cblx0XHR3aGlsZSAoIHRydWUgKSB7XG5cblx0XHRcdC0taiA7XG5cblx0XHRcdGlmICggaSA+PSBqICkge1xuXHRcdFx0XHRhW29dID0gYVtqXSA7XG5cdFx0XHRcdGFbal0gPSB4IDtcblx0XHRcdFx0cmV0dXJuIGogO1xuXHRcdFx0fVxuXG5cdFx0XHRlbHNlIGlmICggY29tcGFyZSggeCAsIGFbal0gKSA+IDAgKSB7XG5cdFx0XHRcdGJyZWFrIDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR3aGlsZSAoIHRydWUgKSB7XG5cblx0XHRcdCsraSA7XG5cblx0XHRcdGlmICggaSA+PSBqICkge1xuXHRcdFx0XHRhW29dID0gYVtqXSA7XG5cdFx0XHRcdGFbal0gPSB4IDtcblx0XHRcdFx0cmV0dXJuIGogO1xuXHRcdFx0fVxuXG5cdFx0XHRlbHNlIGlmICggY29tcGFyZSggeCAsIGFbaV0gKSA8IDAgKSB7XG5cdFx0XHRcdGJyZWFrIDtcblx0XHRcdH1cblx0XHR9XG5cblxuXHRcdC8vIGludmFyaWFudCBpIDwgalxuXG5cdFx0Y29uc3QgdCAgICA9IGFbaV0gO1xuXHRcdGFbaV0gPSBhW2pdIDtcblx0XHRhW2pdID0gICAgdCA7XG5cblx0fVxuXG59XG4iXX0=